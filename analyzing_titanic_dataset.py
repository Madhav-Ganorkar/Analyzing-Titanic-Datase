# -*- coding: utf-8 -*-
"""Analyzing Titanic Dataset.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1nE4VNmf6fEXdHTkX-v0hYP0jhchvTkWL
"""

# Install Library
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

"""**Step 1: Clean null values and incorrect data**"""

# Loading data set CSV and Analysis the data
df = pd.read_csv("dataset3 - Sheet1.csv")

df.head(10)

# Checking for the null Values
df.isnull().sum()

# There is an 70% null values in Cabin, So we can fill it by none or we can drop the column
df.drop(columns = "Cabin", inplace = True)

# Checking for the Duplicates Values
df.duplicated().sum()



"""**Step 2: Grouping & Aggregation**"""

# Survival rate by gender
print("Survival Rate by Gender:\n", df.groupby("Sex")["Survived"].mean())

"""**Step 3: Create Visualizations**"""

# Survival rate by class
print("Survival Rate by Class:\n", df.groupby("Pclass")["Survived"].mean())

# Survival rate by class and gender
print("Survival Rate by Class and Gender:\n", df.groupby(["Pclass", "Sex"])["Survived"].mean())

# Age Distribution (Histogram)
plt.figure(figsize=(8,6))
sns.histplot(df["Age"], bins=20, kde=True)
plt.title("Age Distribution")
plt.xlabel("Age")
plt.ylabel("Frequency")
plt.show()

# Survival by class and gender (barplot)
plt.figure(figsize=(8,6))
sns.barplot(x="Pclass", y="Survived", hue="Sex", data=df)
plt.title("Survival by Class and Gender")
plt.xlabel("Class")
plt.ylabel("Survival Rate")

# Correlation heatmap
correlation_matrix = df.corr(numeric_only=True)
plt.figure(figsize=(8,6))
sns.heatmap(correlation_matrix, annot=True, cmap="coolwarm")
plt.title("Correlation Heatmap")
plt.show()

"""**Summary Insights from Titanic Data Analysis**

Step 1: Data Cleaning
* Null Values:
     * The 'Cabin' column had ~70% missing values and was dropped from the dataset.

* Duplicates:
     * The dataset was checked for duplicates to ensure data quality (exact number not printed but assessed).


Step 2: Grouping & Aggregation
* Survival Rate by Gender:
     * Males had a significantly higher survival rate than females, showing gender had a strong influence on survival.


* Survival Rate by Passenger Class:
     * Passengers in 1st class had the highest survival rates.
     * Survival rates decreased in 2nd and especially 3rd class, indicating socio-economic factors influenced survival chances.

* Survival Rate by Class and Gender:
     * 1st class males had the highest survival rate.
     * 3rd class females had the lowest.

Step 3: Visual & Statistical Analysis
* Age Distribution:
     * Most passengers were between 20â€“40 years old.
     * Distribution is slightly right-skewed with some younger passengers (children) and fewer older ones.

* Survival by Class and Gender (Barplot):
     * Visuals reinforce earlier group statistics.
     * Gender and class jointly impacted survival significantly.

* Correlation Heatmap:
     * Shows numeric correlations between variables.
     * Notably:
         * Fare had a mild positive correlation with Survival.
         * Pclass had a negative correlation with Survival, meaning higher class (lower number) increased survival chances.
"""